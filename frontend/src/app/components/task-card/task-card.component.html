<mat-card
  (click)="viewTask(task)"
  [style]="{ 'background-color': color + '62' }">
  <mat-card-header>
    <mat-card-title class="w-100">
      <mat-chip
        class="priority"
        *ngIf="task.priority"
        color="primary"
        [style]="{
          'background-color': TASK_PRIORITY_COLORS[task.priority]
        }"
        [highlighted]="true">
        {{ task.priority }}
      </mat-chip>
      {{ task.title }}
    </mat-card-title>
  </mat-card-header>
  <mat-divider class="w-100" />
  <mat-card-content class="task-content">
    <div *ngIf="task.thumbnail && thumbnail" class="thumbnail-header">
      <img class="w-100" alt="Not found" [src]="thumbnail" />
    </div>
    <div class="d-flex flex-row flex-wrap flex-justify-start card-info">
      <div
        class="d-flex flex-row flex-align-items-start flex-justify-start w-50">
        <mat-icon fontIcon="person" class="icon" />
        <ng-container *ngIf="task.assignee">
          {{ task.assignee.firstName }} {{ task.assignee.lastName }}
        </ng-container>
        <ng-container *ngIf="!task.assignee">No assignee</ng-container>
      </div>
      <div
        class="d-flex flex-row flex-align-items-start flex-justify-end w-50"
        *ngIf="task.attachments?.length">
        <mat-icon fontIcon="attachment" class="icon" />
        {{ task.attachments.length }}
      </div>
    </div>
    <div class="d-flex flex-row flex-wrap flex-justify-start card-info">
      <div
        class="d-flex flex-row flex-align-items-start flex-justify-start w-100"
        *ngIf="task.deadline">
        <mat-icon fontIcon="event_busy" class="icon" />
        {{ relativeDateFormat(task.deadline) }}
      </div>
    </div>
  </mat-card-content>
</mat-card>
